!function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);a(1);!function(e){Craft.UpdatesUtility=Garnish.Base.extend({$body:null,totalAvailableUpdates:0,criticalUpdateAvailable:!1,allowUpdates:null,installableUpdates:null,init:function(){this.$body=e("#content");var t=e("#graphic"),a=e("#status");this.installableUpdates=[];Craft.cp.checkForUpdates(!0,!0,function(n){if(this.allowUpdates=n.allowUpdates,n.updates.cms&&this.processUpdate(n.updates.cms,!1),n.updates.plugins&&n.updates.plugins.length)for(var s=0;s<n.updates.plugins.length;s++)this.processUpdate(n.updates.plugins[s],!0);if(this.totalAvailableUpdates){t.remove(),a.remove();var i=Craft.t("app","{num, number} {num, plural, =1{Available Update} other{Available Updates}}",{num:this.totalAvailableUpdates});e("#header h1").text(i),this.allowUpdates&&this.installableUpdates.length>1&&this.createUpdateForm(Craft.t("app","Update all"),this.installableUpdates).insertAfter(e("#header > .flex:last"))}else t.addClass("success"),a.text(Craft.t("app","Youâ€™re all up-to-date!"))}.bind(this))},processUpdate:function(e,a){if(e.releases.length){this.totalAvailableUpdates++;var n=new t(this,e,a);n.installable&&this.installableUpdates.push(n)}},createUpdateForm:function(t,a){var n=e("<form/>",{method:"post"});n.append(Craft.getCsrfInput()),n.append(e("<input/>",{type:"hidden",name:"action",value:"updater"})),n.append(e("<input/>",{type:"hidden",name:"return",value:"utilities/updates"}));for(var s=0;s<a.length;s++)n.append(e("<input/>",{type:"hidden",name:"install["+a[s].updateInfo.handle+"]",value:a[s].updateInfo.latestVersion})),n.append(e("<input/>",{type:"hidden",name:"packageNames["+a[s].updateInfo.handle+"]",value:a[s].updateInfo.packageName}));return n.append(e("<input/>",{type:"submit",value:t,class:"btn submit"})),n}});var t=Garnish.Base.extend({updateInfo:null,isPlugin:null,installable:!0,$container:null,$header:null,$contents:null,$releaseContainer:null,$showAllLink:null,licenseHud:null,$licenseSubmitBtn:null,licenseSubmitAction:null,init:function(t,a,n){this.updatesPage=t,this.updateInfo=a,this.isPlugin=n,this.createPane(),this.initReleases(),this.createHeading(),this.createCta(),"eligible"!==this.updateInfo.status&&(e('<blockquote class="note ineligible"><p>'+this.updateInfo.statusText+"</p></blockquote>").insertBefore(this.$releaseContainer),"expired"!==this.updateInfo.status&&null!==this.updateInfo.latestVersion||(this.installable=!1))},createPane:function(){this.$container=e('<div class="update"/>').appendTo(this.updatesPage.$body),this.$header=e('<div class="update-header"/>').appendTo(this.$container),this.$contents=e('<div class="readable"/>').appendTo(this.$container),this.$releaseContainer=e('<div class="releases"/>').appendTo(this.$contents)},createHeading:function(){e('<div class="readable left"/>').appendTo(this.$header).append(e("<h1/>",{text:this.updateInfo.name}))},createCta:function(){if(this.updatesPage.allowUpdates&&this.updateInfo.latestVersion){var t=e('<div class="buttons right"/>').appendTo(this.$header);void 0!==this.updateInfo.ctaUrl?e("<a/>",{class:"btn submit",text:this.updateInfo.ctaText,href:this.updateInfo.ctaUrl}).appendTo(t):this.updatesPage.createUpdateForm(this.updateInfo.ctaText,[this]).appendTo(t)}},initReleases:function(){for(var e=0;e<this.updateInfo.releases.length;e++)new a(this,this.updateInfo.releases[e])}}),a=Garnish.Base.extend({update:null,releaseInfo:null,notesId:null,$container:null,$headingContainer:null,init:function(e,t){this.update=e,this.releaseInfo=t,this.notesId="notes-"+Math.floor(1e6*Math.random()),this.createContainer(),this.createHeading(),this.releaseInfo.notes&&(this.createReleaseNotes(),new Craft.FieldToggle(this.$headingContainer))},createContainer:function(){this.$container=e('<div class="pane release"/>').appendTo(this.update.$releaseContainer),this.releaseInfo.critical&&this.$container.addClass("critical")},createHeading:function(){this.releaseInfo.notes?this.$headingContainer=e("<a/>",{class:"release-info fieldtoggle","data-target":this.notesId}):this.$headingContainer=e("<div/>",{class:"release-info"}),this.$headingContainer.appendTo(this.$container),e("<h2/>",{text:this.releaseInfo.version}).appendTo(this.$headingContainer),this.releaseInfo.critical&&e("<strong/>",{class:"critical",text:Craft.t("app","Critical")}).appendTo(this.$headingContainer),this.releaseInfo.date&&e("<span/>",{class:"date",text:Craft.formatDate(this.releaseInfo.date)}).appendTo(this.$headingContainer)},createReleaseNotes:function(){var t=e("<div/>",{id:this.notesId}).appendTo(this.$container).append(e("<div/>",{class:"release-notes"}).html(this.releaseInfo.notes));this.releaseInfo.critical||t.find("blockquote").length?this.$headingContainer.addClass("expanded"):t.addClass("hidden")}},{maxInitialUpdateHeight:500})}(jQuery)},function(e,t,a){var n=a(2);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(3).default)("7dd5aaa2",n,!1,{})},function(e,t,a){},function(e,t,a){"use strict";function n(e,t){for(var a=[],n={},s=0;s<t.length;s++){var i=t[s],r=i[0],l={id:e+":"+s,css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(l):a.push(n[r]={id:r,parts:[l]})}return a}a.r(t),a.d(t,"default",(function(){return h}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=s&&(document.head||document.getElementsByTagName("head")[0]),l=null,o=0,d=!1,u=function(){},p=null,c="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,a,s){d=a,p=s||{};var r=n(e,t);return f(r),function(t){for(var a=[],s=0;s<r.length;s++){var l=r[s];(o=i[l.id]).refs--,a.push(o)}t?f(r=n(e,t)):r=[];for(s=0;s<a.length;s++){var o;if(0===(o=a[s]).refs){for(var d=0;d<o.parts.length;d++)o.parts[d]();delete i[o.id]}}}}function f(e){for(var t=0;t<e.length;t++){var a=e[t],n=i[a.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](a.parts[s]);for(;s<a.parts.length;s++)n.parts.push(g(a.parts[s]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var r=[];for(s=0;s<a.parts.length;s++)r.push(g(a.parts[s]));i[a.id]={id:a.id,refs:1,parts:r}}}}function v(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function g(e){var t,a,n=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(n){if(d)return u;n.parentNode.removeChild(n)}if(c){var s=o++;n=l||(l=v()),t=C.bind(null,n,s,!1),a=C.bind(null,n,s,!0)}else n=v(),t=y.bind(null,n),a=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else a()}}var b,m=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function C(e,t,a,n){var s=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=m(t,s);else{var i=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function y(e,t){var a=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),p.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),s&&(a+="\n/*# sourceURL="+s.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}}]);
//# sourceMappingURL=UpdatesUtility.min.js.map